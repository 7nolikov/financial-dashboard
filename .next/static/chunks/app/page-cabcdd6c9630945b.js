(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7948:(e,t,s)=>{Promise.resolve().then(s.bind(s,23375))},23375:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ej});var a=s(95155),n=s(12115),r=s(60704),l=s(52596),i=s(39688);function d(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,i.QP)((0,l.$)(t))}let o=r.bL,c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.B8,{ref:t,className:d("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...n})});c.displayName=r.B8.displayName;let m=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.l9,{ref:t,className:d("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...n})});m.displayName=r.l9.displayName;let u=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.UC,{ref:t,className:d("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...n})});u.displayName=r.UC.displayName;var x=s(99708),h=s(74466);let g=(0,h.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),f=n.forwardRef((e,t)=>{let{className:s,variant:n,size:r,asChild:l=!1,...i}=e,o=l?x.DX:"button";return(0,a.jsx)(o,{className:d(g({variant:n,size:r,className:s})),ref:t,...i})});f.displayName="Button";let p=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:d("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});p.displayName="Card";let j=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:d("flex flex-col space-y-1.5 p-6",s),...n})});j.displayName="CardHeader";let v=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:d("text-2xl font-semibold leading-none tracking-tight",s),...n})});v.displayName="CardTitle";let y=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:d("text-sm text-muted-foreground",s),...n})});y.displayName="CardDescription";let b=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:d("p-6 pt-0",s),...n})});b.displayName="CardContent";let N=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:d("flex items-center p-6 pt-0",s),...n})});N.displayName="CardFooter";var w=s(63008),A=s(69074),k=s(42355),C=s(13052),R=s(34666);function S(e){let{className:t,classNames:s,showOutsideDays:n=!0,...r}=e;return(0,a.jsx)(R.h,{showOutsideDays:n,className:d("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:d(g({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:d(g({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:e=>{let{...t}=e;return(0,a.jsx)(k.A,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,a.jsx)(C.A,{className:"h-4 w-4"})}},...r})}S.displayName="Calendar";var I=s(35178);let F=I.bL,D=I.l9,L=n.forwardRef((e,t)=>{let{className:s,align:n="center",sideOffset:r=4,...l}=e;return(0,a.jsx)(I.ZL,{children:(0,a.jsx)(I.UC,{ref:t,align:n,sideOffset:r,className:d("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})})});function E(e){let{date:t,onDateChange:s,label:r="Pick a date"}=e,[l,i]=(0,n.useState)(!1);return(0,a.jsxs)(F,{open:l,onOpenChange:i,children:[(0,a.jsx)(D,{asChild:!0,children:(0,a.jsxs)(f,{variant:"outline",className:d("w-[240px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[(0,a.jsx)(A.A,{className:"mr-2 h-4 w-4"}),t?(0,w.GP)(t,"PPP"):(0,a.jsx)("span",{children:r})]})}),(0,a.jsx)(L,{className:"w-auto p-0",align:"start",children:(0,a.jsx)(S,{mode:"single",selected:t,onSelect:e=>{s(e),i(!1)},initialFocus:!0})})]})}L.displayName=I.UC.displayName;var W=s(83540),O=s(503),M=s(94754),_=s(96025),V=s(16238),T=s(94517),G=s(70919),z=s(62341),B=s(15452),H=s(54416);let Y=B.bL;B.l9;let P=B.ZL;B.bm;let U=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(B.hJ,{ref:t,className:d("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n})});U.displayName=B.hJ.displayName;let $=n.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsxs)(P,{children:[(0,a.jsx)(U,{}),(0,a.jsxs)(B.UC,{ref:t,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r,children:[n,(0,a.jsxs)(B.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(H.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});$.displayName=B.UC.displayName;let J=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:d("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};J.displayName="DialogHeader";let K=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:d("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};K.displayName="DialogFooter";let X=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(B.hE,{ref:t,className:d("text-lg font-semibold leading-none tracking-tight",s),...n})});X.displayName=B.hE.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(B.VY,{ref:t,className:d("text-sm text-muted-foreground",s),...n})}).displayName=B.VY.displayName;let q=n.forwardRef((e,t)=>{let{className:s,type:n,...r}=e;return(0,a.jsx)("input",{type:n,className:d("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...r})});q.displayName="Input";var Q=s(40968);let Z=(0,h.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ee=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(Q.b,{ref:t,className:d(Z(),s),...n})});function et(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0,notation:t?"compact":"standard"}).format(e)}function es(e){let{financialData:t,settings:s,zoomLevel:r,onZoomChange:l,visibleRange:i,onVisibleRangeChange:d,milestones:o,onAddMilestone:c,dateOfBirth:m,activeTab:u}=e,[x,h]=(0,n.useState)(!1),[g,p]=(0,n.useState)(null),[j,v]=(0,n.useState)(""),[y,b]=(0,n.useState)(null),N=(0,n.useRef)(null),w=(0,n.useRef)(null),A=n.useCallback((e,t,s)=>{let a=[],n=new Date().getFullYear(),r=s?s.getFullYear():n-30,l=0,i=0,d=0,o=0;for(let s=0;s<=100;s++){let n=r+s,o={age:s,year:n,income:0,expenses:0,investments:0,netWorth:0,safetySavings:0},c=t.safetySavings.find(e=>s>=e.ageRange[0]&&s<=e.ageRange[1]);if(o.safetySavings=(null==c?void 0:c.amount)||0,e.income.forEach(e=>{e.startAge<=s&&(null===e.endAge||e.endAge>=s)&&(e.recurring?(o.income+=e.amount,l+=e.amount):e.startAge===s&&(o.income+=e.amount,l+=e.amount))}),e.expenses.forEach(e=>{e.startAge<=s&&(null===e.endAge||e.endAge>=s)&&(e.recurring?(o.expenses+=e.amount,i+=e.amount):e.startAge===s&&(o.expenses+=e.amount,i+=e.amount))}),e.investments.forEach(e=>{if(e.startAge<=s&&(null===e.endAge||e.endAge>=s)){let a=0;"fixed"===t.interestRateType?a=t.interestRate:"yearly"===t.interestRateType&&(a=t.yearlyInterestRates[s]||0),e.recurring?(o.investments+=e.amount,d+=e.amount,s>0&&(d*=1+a)):e.startAge===s&&(o.investments+=e.amount,d+=e.amount)}}),s>=t.retirementAge){let e=d*t.retirementWithdrawalRate;o.expenses+=e,d-=e}o.netWorth=l-i+d,a.push(o)}return a},[]),k=n.useMemo(()=>A(t,s,m),[t,s,m,A]),C=n.useMemo(()=>k.slice(i[0],i[1]+1),[k,i]);(0,n.useEffect)(()=>{let e=N.current;if(!e)return;let t=e=>{e.preventDefault()};return e.addEventListener("wheel",t,{passive:!1}),()=>{e.removeEventListener("wheel",t)}},[]);let R=n.useMemo(()=>o.some(e=>"Retirement"===e.label&&e.year===s.retirementAge)?o:[...o,{id:-1,year:s.retirementAge,label:"Retirement"}],[o,s.retirementAge]);return(0,a.jsxs)("div",{ref:N,className:"h-[500px] w-full",onWheel:e=>{if(e.preventDefault(),!w.current)return;let t=w.current.getBoundingClientRect(),s=t.width,a=e.clientX-t.left,n=i[1]-i[0],o=Math.max(1,Math.min(100,r+5*(.01*e.deltaY))),c=Math.ceil(k.length*(o/100)),m=Math.round(i[0]+a/s*(n-c));m=Math.max(0,Math.min(k.length-c,m));let u=Math.min(k.length-1,m+c);l(o),d([m,u])},children:[(0,a.jsx)("div",{className:"mb-8 flex justify-center",children:(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-3 w-3 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-sm",children:"Income"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-3 w-3 rounded-full bg-red-500"}),(0,a.jsx)("span",{className:"text-sm",children:"Expenses"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-3 w-3 rounded-full bg-blue-500"}),(0,a.jsx)("span",{className:"text-sm",children:"Investments"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-3 w-3 rounded-full bg-purple-500"}),(0,a.jsx)("span",{className:"text-sm",children:"Net Worth"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-3 w-3 rounded-full bg-orange-500"}),(0,a.jsx)("span",{className:"text-sm",children:"Safety Savings"})]})]})}),(0,a.jsx)("div",{ref:w,onClick:e=>{if(!w.current||"dashboard"!==u)return;let t=w.current.getBoundingClientRect();if(e.clientX>=t.left&&e.clientX<=t.right&&e.clientY>=t.top&&e.clientY<=t.bottom){var s;p((null===(s=k[Math.floor((e.clientX-t.left)/t.width*C.length)+i[0]])||void 0===s?void 0:s.age)||0),h(!0)}},className:"h-[420px] w-full",children:(0,a.jsx)(W.u,{width:"100%",height:"100%",children:(0,a.jsxs)(O.Q,{data:C,margin:{top:20,right:30,left:20,bottom:20},children:[(0,a.jsx)(M.d,{strokeDasharray:"3 3"}),(0,a.jsx)(_.W,{dataKey:"age"}),(0,a.jsx)(V.h,{tickFormatter:e=>et(e,!0)}),(0,a.jsx)(T.m,{formatter:e=>et(e),labelFormatter:e=>"Age: ".concat(e)}),(0,a.jsx)(G.e,{y:0,stroke:"#666",strokeDasharray:"3 3"}),R.map(e=>(0,a.jsx)(G.e,{x:e.year,stroke:"#666",strokeDasharray:"5 5",label:{value:e.label,position:"top",fill:(null==y?void 0:y.id)===e.id?"#000":"transparent",fontSize:12,fontWeight:"bold",dy:-10},onMouseOver:()=>b(e),onMouseOut:()=>b(null)},e.id)),(0,a.jsx)(z.G,{type:"monotone",dataKey:"income",stackId:"1",stroke:"#4ade80",fill:"#4ade80",fillOpacity:.6}),(0,a.jsx)(z.G,{type:"monotone",dataKey:"expenses",stackId:"2",stroke:"#f87171",fill:"#f87171",fillOpacity:.6}),(0,a.jsx)(z.G,{type:"monotone",dataKey:"investments",stackId:"3",stroke:"#60a5fa",fill:"#60a5fa",fillOpacity:.6}),(0,a.jsx)(z.G,{type:"monotone",dataKey:"netWorth",stackId:"4",stroke:"#a855f7",fill:"#a855f7",fillOpacity:.6}),(0,a.jsx)(z.G,{type:"monotone",dataKey:"safetySavings",stackId:"5",stroke:"#fb923c",fill:"#fb923c",fillOpacity:.6})]})})}),(0,a.jsx)(Y,{open:x,onOpenChange:h,children:(0,a.jsxs)($,{children:[(0,a.jsx)(J,{children:(0,a.jsx)(X,{children:"Add Milestone"})}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(ee,{htmlFor:"milestone-year",className:"text-right",children:"Year"}),(0,a.jsx)(q,{id:"milestone-year",value:g||"",onChange:e=>p(Number(e.target.value)),className:"col-span-3",type:"number",min:"0",max:"100"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(ee,{htmlFor:"milestone-label",className:"text-right",children:"Label"}),(0,a.jsx)(q,{id:"milestone-label",value:j,onChange:e=>v(e.target.value),className:"col-span-3",placeholder:"e.g., Graduation, New Job, etc."})]})]}),(0,a.jsxs)(K,{children:[(0,a.jsx)(f,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),(0,a.jsx)(f,{onClick:()=>{null!==g&&j.trim()&&(c(g,j),h(!1),v(""),p(null))},children:"Add"})]})]})})]})}function ea(e){let{summary:t}=e;return(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(p,{children:[(0,a.jsxs)(j,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(v,{className:"text-sm font-medium",children:"Total Income"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-green-500",children:(0,a.jsx)("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:et(t.totalIncome)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[t.incomeGrowth>=0?"+":"",t.incomeGrowth.toFixed(2),"% from previous period"]})]})]}),(0,a.jsxs)(p,{children:[(0,a.jsxs)(j,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(v,{className:"text-sm font-medium",children:"Total Expenses"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-red-500",children:(0,a.jsx)("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:et(t.totalExpenses)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[t.expensesGrowth>=0?"+":"",t.expensesGrowth.toFixed(2),"% from previous period"]})]})]}),(0,a.jsxs)(p,{children:[(0,a.jsxs)(j,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(v,{className:"text-sm font-medium",children:"Total Investments"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-blue-500",children:(0,a.jsx)("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:et(t.totalInvestments)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[t.investmentsGrowth>=0?"+":"",t.investmentsGrowth.toFixed(2),"% from previous period"]})]})]}),(0,a.jsxs)(p,{children:[(0,a.jsxs)(j,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(v,{className:"text-sm font-medium",children:"Net Worth"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-purple-500",children:(0,a.jsx)("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:et(t.netWorth)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[t.netWorthGrowth>=0?"+":"",t.netWorthGrowth.toFixed(2),"% from previous period"]})]})]})]})}ee.displayName=Q.b.displayName;var en=s(4884);let er=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(en.bL,{className:d("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...n,ref:t,children:(0,a.jsx)(en.zi,{className:d("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});er.displayName=en.bL.displayName;var el=s(75313);let ei=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsxs)(el.bL,{ref:t,className:d("relative flex w-full touch-none select-none items-center",s),...n,children:[(0,a.jsx)(el.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,a.jsx)(el.Q6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(el.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});function ed(e){let{financialData:t,setFinancialData:s,settings:r}=e,[l,i]=(0,n.useState)("income"),[d,x]=(0,n.useState)({id:Date.now(),name:"",amount:0,startAge:25,endAge:null,recurring:!0}),h=e=>{let{name:t,value:s,type:a}=e.target;x({...d,[t]:"number"===a?Number(s):s})},g=e=>{x({...d,recurring:e})},w=e=>{x({...d,startAge:e[0]})},A=e=>{x({...d,endAge:100===e[0]?null:e[0]})},k=()=>{if(!d.name||0===d.amount)return;let e={id:Date.now(),name:d.name||"",amount:d.amount||0,startAge:d.startAge||0,endAge:d.endAge,recurring:d.recurring||!1},a={...t};"income"===l?a.income=[...a.income,e]:"expenses"===l?a.expenses=[...a.expenses,e]:"investments"===l&&(a.investments=[...a.investments,e]),s(a),x({id:Date.now(),name:"",amount:0,startAge:25,endAge:null,recurring:!0})},C=e=>{let a={...t};"income"===l?a.income=a.income.filter(t=>t.id!==e):"expenses"===l?a.expenses=a.expenses.filter(t=>t.id!==e):"investments"===l&&(a.investments=a.investments.filter(t=>t.id!==e)),s(a)};return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(o,{defaultValue:"income",value:l,onValueChange:i,children:[(0,a.jsxs)(c,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(m,{value:"income",children:"Income"}),(0,a.jsx)(m,{value:"expenses",children:"Expenses"}),(0,a.jsx)(m,{value:"investments",children:"Investments"})]}),(0,a.jsxs)(u,{value:"income",className:"space-y-4",children:[(0,a.jsxs)(p,{children:[(0,a.jsxs)(j,{children:[(0,a.jsx)(v,{children:"Add Income"}),(0,a.jsx)(y,{children:"Add your income sources like salary, side hustles, etc."})]}),(0,a.jsxs)(b,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ee,{htmlFor:"name",children:"Name"}),(0,a.jsx)(q,{id:"name",name:"name",placeholder:"e.g., Salary, Freelance",value:d.name,onChange:h})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ee,{htmlFor:"amount",children:"Annual Amount ($)"}),(0,a.jsx)(q,{id:"amount",name:"amount",type:"number",placeholder:"0",value:d.amount||"",onChange:h})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(ee,{children:["Start Age: ",d.startAge]}),(0,a.jsx)(ei,{defaultValue:[25],max:100,step:1,value:[d.startAge||0],onValueChange:w})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(ee,{children:["End Age: ",null===d.endAge?"Lifetime":d.endAge]}),(0,a.jsx)(ei,{defaultValue:[100],max:100,step:1,value:[null===d.endAge?100:d.endAge],onValueChange:A})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(er,{id:"recurring",checked:d.recurring,onCheckedChange:g}),(0,a.jsx)(ee,{htmlFor:"recurring",children:"Recurring (yearly)"})]})]}),(0,a.jsx)(N,{children:(0,a.jsx)(f,{onClick:k,children:"Add Income"})})]}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.income.map(e=>(0,a.jsxs)(p,{children:[(0,a.jsxs)(j,{className:"pb-2",children:[(0,a.jsx)(v,{className:"text-lg",children:e.name}),(0,a.jsxs)(y,{children:[e.recurring?"Recurring":"One-time"," | Ages ",e.startAge," -"," ",null===e.endAge?"Lifetime":e.endAge]})]}),(0,a.jsx)(b,{children:(0,a.jsxs)("p",{className:"text-2xl font-bold",children:["$",e.amount.toLocaleString()]})}),(0,a.jsx)(N,{children:(0,a.jsx)(f,{variant:"destructive",onClick:()=>C(e.id),children:"Delete"})})]},e.id))})]}),(0,a.jsxs)(u,{value:"expenses",className:"space-y-4",children:[(0,a.jsxs)(p,{children:[(0,a.jsxs)(j,{children:[(0,a.jsx)(v,{children:"Add Expense"}),(0,a.jsx)(y,{children:"Add your expenses like rent, groceries, etc."})]}),(0,a.jsxs)(b,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ee,{htmlFor:"name",children:"Name"}),(0,a.jsx)(q,{id:"name",name:"name",placeholder:"e.g., Rent, Groceries",value:d.name,onChange:h})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ee,{htmlFor:"amount",children:"Annual Amount ($)"}),(0,a.jsx)(q,{id:"amount",name:"amount",type:"number",placeholder:"0",value:d.amount||"",onChange:h})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(ee,{children:["Start Age: ",d.startAge]}),(0,a.jsx)(ei,{defaultValue:[25],max:100,step:1,value:[d.startAge||0],onValueChange:w})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(ee,{children:["End Age: ",null===d.endAge?"Lifetime":d.endAge]}),(0,a.jsx)(ei,{defaultValue:[100],max:100,step:1,value:[null===d.endAge?100:d.endAge],onValueChange:A})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(er,{id:"recurring",checked:d.recurring,onCheckedChange:g}),(0,a.jsx)(ee,{htmlFor:"recurring",children:"Recurring (yearly)"})]})]}),(0,a.jsx)(N,{children:(0,a.jsx)(f,{onClick:k,children:"Add Expense"})})]}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.expenses.map(e=>(0,a.jsxs)(p,{children:[(0,a.jsxs)(j,{className:"pb-2",children:[(0,a.jsx)(v,{className:"text-lg",children:e.name}),(0,a.jsxs)(y,{children:[e.recurring?"Recurring":"One-time"," | Ages ",e.startAge," -"," ",null===e.endAge?"Lifetime":e.endAge]})]}),(0,a.jsx)(b,{children:(0,a.jsxs)("p",{className:"text-2xl font-bold",children:["$",e.amount.toLocaleString()]})}),(0,a.jsx)(N,{children:(0,a.jsx)(f,{variant:"destructive",onClick:()=>C(e.id),children:"Delete"})})]},e.id))})]}),(0,a.jsxs)(u,{value:"investments",className:"space-y-4",children:[(0,a.jsxs)(p,{children:[(0,a.jsxs)(j,{children:[(0,a.jsx)(v,{children:"Add Investment"}),(0,a.jsx)(y,{children:"Add your investments like 401k, stocks, etc."})]}),(0,a.jsxs)(b,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ee,{htmlFor:"name",children:"Name"}),(0,a.jsx)(q,{id:"name",name:"name",placeholder:"e.g., 401k, Stocks",value:d.name,onChange:h})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ee,{htmlFor:"amount",children:"Annual Amount ($)"}),(0,a.jsx)(q,{id:"amount",name:"amount",type:"number",placeholder:"0",value:d.amount||"",onChange:h})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(ee,{children:["Start Age: ",d.startAge]}),(0,a.jsx)(ei,{defaultValue:[25],max:100,step:1,value:[d.startAge||0],onValueChange:w})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(ee,{children:["End Age: ",null===d.endAge?"Lifetime":d.endAge]}),(0,a.jsx)(ei,{defaultValue:[100],max:100,step:1,value:[null===d.endAge?100:d.endAge],onValueChange:A})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(er,{id:"recurring",checked:d.recurring,onCheckedChange:g}),(0,a.jsx)(ee,{htmlFor:"recurring",children:"Recurring (yearly)"})]})]}),(0,a.jsx)(N,{children:(0,a.jsx)(f,{onClick:k,children:"Add Investment"})})]}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.investments.map(e=>(0,a.jsxs)(p,{children:[(0,a.jsxs)(j,{className:"pb-2",children:[(0,a.jsx)(v,{className:"text-lg",children:e.name}),(0,a.jsxs)(y,{children:[e.recurring?"Recurring":"One-time"," | Ages ",e.startAge," -"," ",null===e.endAge?"Lifetime":e.endAge]})]}),(0,a.jsx)(b,{children:(0,a.jsxs)("p",{className:"text-2xl font-bold",children:["$",e.amount.toLocaleString()]})}),(0,a.jsx)(N,{children:(0,a.jsx)(f,{variant:"destructive",onClick:()=>C(e.id),children:"Delete"})})]},e.id))})]})]})})}ei.displayName=el.bL.displayName;var eo=s(54059),ec=s(9428);let em=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(eo.bL,{className:d("grid gap-2",s),...n,ref:t})});em.displayName=eo.bL.displayName;let eu=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(eo.q7,{ref:t,className:d("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...n,children:(0,a.jsx)(eo.C1,{className:"flex items-center justify-center",children:(0,a.jsx)(ec.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});eu.displayName=eo.q7.displayName;let ex=n.memo(function(e){let{settings:t,setSettings:s,onClose:r}=e,[l,i]=(0,n.useState)({...t}),[d,x]=(0,n.useState)("safety"),h=(e,t)=>{let s=[...l.safetySavings];s[e]={...s[e],amount:t},i({...l,safetySavings:s})};return(0,a.jsx)(Y,{open:!0,onOpenChange:r,children:(0,a.jsxs)($,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(J,{children:(0,a.jsx)(X,{children:"Settings"})}),(0,a.jsxs)(o,{defaultValue:"safety",value:d,onValueChange:x,children:[(0,a.jsxs)(c,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(m,{value:"safety",children:"Safety Savings"}),(0,a.jsx)(m,{value:"interest",children:"Interest Rates"}),(0,a.jsx)(m,{value:"retirement",children:"Retirement"})]}),(0,a.jsx)(u,{value:"safety",className:"space-y-4 py-4",children:(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:l.safetySavings.map((e,t)=>(0,a.jsxs)(p,{children:[(0,a.jsxs)(j,{children:[(0,a.jsxs)(v,{children:["Ages ",e.ageRange[0]," - ",e.ageRange[1]]}),(0,a.jsx)(y,{children:"Set your safety savings target for this age range"})]}),(0,a.jsx)(b,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ee,{htmlFor:"safety-".concat(t),children:"Safety Savings Amount ($)"}),(0,a.jsx)(q,{id:"safety-".concat(t),type:"number",value:e.amount,onChange:e=>h(t,Number(e.target.value))})]})})]},t))})}),(0,a.jsx)(u,{value:"interest",className:"space-y-4 py-4",children:(0,a.jsxs)(p,{children:[(0,a.jsxs)(j,{children:[(0,a.jsx)(v,{children:"Interest Rate Configuration"}),(0,a.jsx)(y,{children:"Configure how interest rates are applied to your investments"})]}),(0,a.jsxs)(b,{className:"space-y-4",children:[(0,a.jsxs)(em,{value:l.interestRateType,onValueChange:e=>{i({...l,interestRateType:e})},children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eu,{value:"fixed",id:"fixed"}),(0,a.jsx)(ee,{htmlFor:"fixed",children:"Use a fixed interest rate"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eu,{value:"api",id:"api"}),(0,a.jsx)(ee,{htmlFor:"api",children:"Load from official source"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eu,{value:"yearly",id:"yearly"}),(0,a.jsx)(ee,{htmlFor:"yearly",children:"Set manually for each year"})]})]}),"fixed"===l.interestRateType&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ee,{htmlFor:"fixed-rate",children:"Fixed Interest Rate (%)"}),(0,a.jsx)(q,{id:"fixed-rate",type:"number",step:"0.1",value:(100*l.interestRate).toFixed(1),onChange:e=>{i({...l,interestRate:Number(e.target.value)/100})}})]}),"api"===l.interestRateType&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ee,{children:"Country"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"This feature will be available in a future update."})]}),"yearly"===l.interestRateType&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ee,{children:"Yearly Interest Rates"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"This feature will be available in a future update."})]})]})]})}),(0,a.jsx)(u,{value:"retirement",className:"space-y-4 py-4",children:(0,a.jsxs)(p,{children:[(0,a.jsxs)(j,{children:[(0,a.jsx)(v,{children:"Retirement Planning"}),(0,a.jsx)(y,{children:"Configure your retirement age and withdrawal rate"})]}),(0,a.jsxs)(b,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(ee,{children:["Retirement Age: ",l.retirementAge]}),(0,a.jsx)(ei,{defaultValue:[65],min:50,max:90,step:1,value:[l.retirementAge],onValueChange:e=>{i({...l,retirementAge:e[0]})}})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ee,{htmlFor:"withdrawal-rate",children:"Annual Withdrawal Rate (% of investments)"}),(0,a.jsx)(q,{id:"withdrawal-rate",type:"number",step:"0.1",value:(100*l.retirementWithdrawalRate).toFixed(1),onChange:e=>{i({...l,retirementWithdrawalRate:Number(e.target.value)/100})}}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"The standard safe withdrawal rate is 4% per year."})]})]})]})})]}),(0,a.jsxs)(K,{children:[(0,a.jsx)(f,{variant:"outline",onClick:r,children:"Cancel"}),(0,a.jsx)(f,{onClick:()=>{s(l),r()},children:"Save Changes"})]})]})})});var eh=s(78064);function eg(e){let{dashboardRef:t,onClose:s,summary:r,chartData:l}=e,i=(0,n.useRef)(null),d=l.filter((e,t)=>t%5==0),o=async()=>{if(t.current)try{let e=await (0,eh.$E)(t.current,{quality:.95,backgroundColor:"white"}),s=document.createElement("a");s.download="financial-dashboard-".concat(new Date().toISOString().split("T")[0],".png"),s.href=e,s.click()}catch(e){console.error("Error generating image:",e)}};return(0,a.jsx)(Y,{open:!0,onOpenChange:s,children:(0,a.jsxs)($,{className:"max-w-4xl",children:[(0,a.jsx)(J,{children:(0,a.jsx)(X,{children:"Share Your Financial Dashboard"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"border rounded-lg p-6 bg-white",ref:i,children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"My Financial Dashboard"}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(p,{children:[(0,a.jsx)(j,{className:"pb-2",children:(0,a.jsx)(v,{className:"text-sm",children:"Total Income"})}),(0,a.jsx)(b,{children:(0,a.jsx)("p",{className:"text-2xl font-bold",children:et(r.totalIncome)})})]}),(0,a.jsxs)(p,{children:[(0,a.jsx)(j,{className:"pb-2",children:(0,a.jsx)(v,{className:"text-sm",children:"Total Expenses"})}),(0,a.jsx)(b,{children:(0,a.jsx)("p",{className:"text-2xl font-bold",children:et(r.totalExpenses)})})]}),(0,a.jsxs)(p,{children:[(0,a.jsx)(j,{className:"pb-2",children:(0,a.jsx)(v,{className:"text-sm",children:"Total Investments"})}),(0,a.jsx)(b,{children:(0,a.jsx)("p",{className:"text-2xl font-bold",children:et(r.totalInvestments)})})]}),(0,a.jsxs)(p,{children:[(0,a.jsx)(j,{className:"pb-2",children:(0,a.jsx)(v,{className:"text-sm",children:"Net Worth"})}),(0,a.jsx)(b,{children:(0,a.jsx)("p",{className:"text-2xl font-bold",children:et(r.netWorth)})})]})]}),(0,a.jsx)("div",{className:"mt-6 h-[200px]",children:(0,a.jsx)(W.u,{width:"100%",height:"100%",children:(0,a.jsxs)(O.Q,{data:d,margin:{top:10,right:30,left:0,bottom:0},children:[(0,a.jsx)(M.d,{strokeDasharray:"3 3"}),(0,a.jsx)(_.W,{dataKey:"age"}),(0,a.jsx)(V.h,{tickFormatter:e=>et(e,!0)}),(0,a.jsx)(z.G,{type:"monotone",dataKey:"netWorth",stroke:"#a855f7",fill:"#a855f7",fillOpacity:.6})]})})}),(0,a.jsxs)("div",{className:"mt-4 text-sm text-center text-muted-foreground",children:["Generated on ",new Date().toLocaleDateString()]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Click the button below to download a snapshot of your financial dashboard. This will include your timeline and financial summary."})]}),(0,a.jsxs)(K,{children:[(0,a.jsx)(f,{variant:"outline",onClick:s,children:"Cancel"}),(0,a.jsx)(f,{onClick:o,children:"Download Image"})]})]})})}function ef(e,t){let[s,a]=(0,n.useState)(()=>{try{let s=window.localStorage.getItem(e);return s?JSON.parse(s):t}catch(e){return console.error(e),t}});return[s,t=>{try{let n=t instanceof Function?t(s):t;a(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(e){console.error(e)}}]}function ep(){let[e,t]=(0,n.useState)(new Date(1990,0,1)),[s,r]=(0,n.useState)("dashboard"),[l,i]=(0,n.useState)(100),[d,x]=(0,n.useState)([0,100]),[h,g]=(0,n.useState)(!1),[j,v]=(0,n.useState)(!1),[y,N]=ef("financial-data",{income:[{id:1,name:"Salary",amount:65e3,startAge:22,endAge:65,recurring:!0},{id:2,name:"Side Hustle",amount:12e3,startAge:25,endAge:40,recurring:!0},{id:3,name:"Inheritance",amount:5e4,startAge:35,endAge:null,recurring:!1}],expenses:[{id:1,name:"Living Expenses",amount:45e3,startAge:22,endAge:null,recurring:!0},{id:2,name:"Mortgage",amount:18e3,startAge:30,endAge:60,recurring:!0},{id:3,name:"Car Purchase",amount:3e4,startAge:25,endAge:null,recurring:!1},{id:4,name:"Healthcare",amount:8e3,startAge:65,endAge:null,recurring:!0}],investments:[{id:1,name:"401k",amount:6500,startAge:22,endAge:65,recurring:!0},{id:2,name:"Roth IRA",amount:3e3,startAge:30,endAge:65,recurring:!0},{id:3,name:"Stock Investment",amount:1e4,startAge:30,endAge:null,recurring:!1}]}),[w,A]=ef("user-settings",{safetySavings:[{ageRange:[0,20],amount:5e3},{ageRange:[21,40],amount:15e3},{ageRange:[41,60],amount:3e4},{ageRange:[61,100],amount:5e4}],interestRateType:"fixed",interestRate:.05,yearlyInterestRates:Array(101).fill(.05),retirementAge:65,retirementWithdrawalRate:.04}),k=[{id:1,year:22,label:"Graduation"},{id:2,year:30,label:"Buying a House"}],[C,R]=(0,n.useState)(k),S=(0,n.useRef)(null),I=(0,n.useMemo)(()=>{let t=[],s=new Date().getFullYear(),a=e?e.getFullYear():s-30,n=0,r=0,l=0,i=0;for(let e=0;e<=100;e++){let s=a+e,i={age:e,year:s,income:0,expenses:0,investments:0,netWorth:0,safetySavings:0},d=w.safetySavings.find(t=>e>=t.ageRange[0]&&e<=t.ageRange[1]);if(i.safetySavings=(null==d?void 0:d.amount)||0,y.income.forEach(t=>{t.startAge<=e&&(null===t.endAge||t.endAge>=e)&&(t.recurring?(i.income+=t.amount,n+=t.amount):t.startAge===e&&(i.income+=t.amount,n+=t.amount))}),y.expenses.forEach(t=>{t.startAge<=e&&(null===t.endAge||t.endAge>=e)&&(t.recurring?(i.expenses+=t.amount,r+=t.amount):t.startAge===e&&(i.expenses+=t.amount,r+=t.amount))}),y.investments.forEach(t=>{if(t.startAge<=e&&(null===t.endAge||t.endAge>=e)){let s=0;"fixed"===w.interestRateType?s=w.interestRate:"yearly"===w.interestRateType&&(s=w.yearlyInterestRates[e]||0),t.recurring?(i.investments+=t.amount,l+=t.amount,e>0&&(l*=1+s)):t.startAge===e&&(i.investments+=t.amount,l+=t.amount)}}),e>=w.retirementAge){let e=l*w.retirementWithdrawalRate;i.expenses+=e,l-=e}i.netWorth=n-r+l,t.push(i)}return t},[y,w,e]),F=(0,n.useMemo)(()=>{let e=I.slice(d[0],d[1]+1),t=0,s=0,a=0,n=0;e.length>0&&(n=e[e.length-1].netWorth,e.forEach(e=>{t+=e.income,s+=e.expenses}),a=e[e.length-1].investments);let r=0,l=0,i=0,o=0;if(e.length>1){let t=e[0],s=e[e.length-1];t.income>0&&(r=(s.income-t.income)/t.income*100),t.expenses>0&&(l=(s.expenses-t.expenses)/t.expenses*100),t.investments>0&&(i=(s.investments-t.investments)/t.investments*100),t.netWorth>0&&(o=(s.netWorth-t.netWorth)/t.netWorth*100)}return{totalIncome:t,totalExpenses:s,totalInvestments:a,netWorth:n,incomeGrowth:r,expensesGrowth:l,investmentsGrowth:i,netWorthGrowth:o}},[I,d]);return(0,n.useEffect)(()=>{let e=localStorage.getItem("milestones");e?R(JSON.parse(e)):localStorage.setItem("milestones",JSON.stringify(k));let s=localStorage.getItem("dateOfBirth");s&&t(new Date(s))},[]),(0,a.jsxs)("div",{className:"container mx-auto p-4 max-w-7xl",ref:S,children:[(0,a.jsxs)(o,{defaultValue:"dashboard",value:s,onValueChange:r,children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{value:"dashboard",children:"Dashboard"}),(0,a.jsx)(m,{value:"data-entry",children:"Data Entry"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(E,{date:e,onDateChange:e=>{t(e),e&&localStorage.setItem("dateOfBirth",e.toISOString())},label:"Date of Birth"}),(0,a.jsx)(f,{variant:"outline",onClick:()=>v(!0),children:"Settings"}),(0,a.jsx)(f,{onClick:()=>g(!0),children:"Share"})]})]}),(0,a.jsxs)(u,{value:"dashboard",className:"space-y-6",children:[(0,a.jsx)(p,{children:(0,a.jsx)(b,{className:"pt-6",children:(0,a.jsx)(ea,{summary:F})})}),(0,a.jsx)(p,{children:(0,a.jsxs)(b,{className:"pt-6 relative",children:[(0,a.jsx)(es,{financialData:y,settings:w,zoomLevel:l,onZoomChange:e=>{i(Math.max(1,Math.min(100,e)))},visibleRange:d,onVisibleRangeChange:e=>{x(e)},milestones:C,onAddMilestone:(e,t)=>{let s=[...C,{year:e,label:t,id:Date.now()}];R(s),localStorage.setItem("milestones",JSON.stringify(s))},dateOfBirth:e,activeTab:s}),(0,a.jsx)(f,{variant:"outline",size:"sm",className:"absolute top-4 right-4",onClick:()=>{i(100),x([0,100])},children:"Reset Zoom"})]})})]}),(0,a.jsx)(u,{value:"data-entry",children:(0,a.jsx)(ed,{financialData:y,setFinancialData:N,settings:w})})]}),j&&(0,a.jsx)(ex,{settings:w,setSettings:A,onClose:()=>v(!1)}),h&&(0,a.jsx)(eg,{dashboardRef:S,onClose:()=>g(!1),summary:F,chartData:I})]})}function ej(){return(0,a.jsx)(ep,{})}}},e=>{var t=t=>e(e.s=t);e.O(0,[264,441,684,358],()=>t(7948)),_N_E=e.O()}]);